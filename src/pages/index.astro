---
// src/pages/index.astro
// Esta página no usa Layout. Su única misión es dirigir el tráfico.
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<title>Redireccionando...</title>
		
		<meta name="robots" content="noindex" />
		
		<meta http-equiv="refresh" content="0;url=/es/" />

		<script is:inline>
			// 1. Detectar idioma del navegador
			// (navigator.language es el estándar moderno)
			const browserLang = navigator.language || 'es';
			
			// 2. Lógica simplificada
			// Si el navegador empieza con 'en' (en-US, en-GB), va a inglés.
			// Todo lo demás (es, fr, pt, etc.) va a español por defecto.
			const targetPath = browserLang.startsWith('en') ? '/en/' : '/es/';
			
			// 3. Ejecutar el salto
			window.location.replace(targetPath);
		</script>
	</head>
	<body>
	</body>


	<style>
    /* Ponemos el fondo oscuro por defecto para evitar el flash blanco en la redirección */
    html, body {
        background-color: #111111; /* O el color exacto de tu tema oscuro --bg */
        color: #111111;
    }
    
    /* Si el usuario explícitamente prefiere light, entonces blanco */
    @media (prefers-color-scheme: light) {
        html, body { background-color: #ffffff; }
    }
</style>
</html>